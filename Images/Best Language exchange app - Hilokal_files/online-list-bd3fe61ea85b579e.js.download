(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8431],{80008:function(n,e,t){(n.exports=t(85177)).tz.load(t(91128))},85177:function(n,e,t){var r,i,o;!function(s,u){"use strict";n.exports?n.exports=u(t(30381)):(i=[t(30381)],void 0===(o="function"===typeof(r=u)?r.apply(e,i):r)||(n.exports=o))}(0,(function(n){"use strict";void 0===n.version&&n.default&&(n=n.default);var e,t={},r={},i={},o={},s={};n&&"string"===typeof n.version||P("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var u=n.version.split("."),a=+u[0],l=+u[1];function c(n){return n>96?n-87:n>64?n-29:n-48}function f(n){var e=0,t=n.split("."),r=t[0],i=t[1]||"",o=1,s=0,u=1;for(45===n.charCodeAt(0)&&(e=1,u=-1);e<r.length;e++)s=60*s+c(r.charCodeAt(e));for(e=0;e<i.length;e++)o/=60,s+=c(i.charCodeAt(e))*o;return s*u}function d(n){for(var e=0;e<n.length;e++)n[e]=f(n[e])}function p(n,e){var t,r=[];for(t=0;t<e.length;t++)r[t]=n[e[t]];return r}function h(n){var e=n.split("|"),t=e[2].split(" "),r=e[3].split(""),i=e[4].split(" ");return d(t),d(r),d(i),function(n,e){for(var t=0;t<e;t++)n[t]=Math.round((n[t-1]||0)+6e4*n[t]);n[e-1]=1/0}(i,r.length),{name:e[0],abbrs:p(e[1].split(" "),r),offsets:p(t,r),untils:i,population:0|e[5]}}function m(n){n&&this._set(h(n))}function v(n,e){this.name=n,this.zones=e}function g(n){var e=n.toTimeString(),t=e.match(/\([a-z ]+\)/i);"GMT"===(t=t&&t[0]?(t=t[0].match(/[A-Z]/g))?t.join(""):void 0:(t=e.match(/[A-Z]{3,5}/g))?t[0]:void 0)&&(t=void 0),this.at=+n,this.abbr=t,this.offset=n.getTimezoneOffset()}function b(n){this.zone=n,this.offsetScore=0,this.abbrScore=0}function x(n,e){for(var t,r;r=6e4*((e.at-n.at)/12e4|0);)(t=new g(new Date(n.at+r))).offset===n.offset?n=t:e=t;return n}function w(n,e){return n.offsetScore!==e.offsetScore?n.offsetScore-e.offsetScore:n.abbrScore!==e.abbrScore?n.abbrScore-e.abbrScore:n.zone.population!==e.zone.population?e.zone.population-n.zone.population:e.zone.name.localeCompare(n.zone.name)}function y(n,e){var t,r;for(d(e),t=0;t<e.length;t++)r=e[t],s[r]=s[r]||{},s[r][n]=!0}function j(n){var e,t,r,i=n.length,u={},a=[];for(e=0;e<i;e++)for(t in r=s[n[e].offset]||{})r.hasOwnProperty(t)&&(u[t]=!0);for(e in u)u.hasOwnProperty(e)&&a.push(o[e]);return a}function C(){try{var n=Intl.DateTimeFormat().resolvedOptions().timeZone;if(n&&n.length>3){var e=o[z(n)];if(e)return e;P("Moment Timezone found "+n+" from the Intl api, but did not have that data loaded.")}}catch(c){}var t,r,i,s=function(){var n,e,t,r=(new Date).getFullYear()-2,i=new g(new Date(r,0,1)),o=[i];for(t=1;t<48;t++)(e=new g(new Date(r,t,1))).offset!==i.offset&&(n=x(i,e),o.push(n),o.push(new g(new Date(n.at+6e4)))),i=e;for(t=0;t<4;t++)o.push(new g(new Date(r+t,0,1))),o.push(new g(new Date(r+t,6,1)));return o}(),u=s.length,a=j(s),l=[];for(r=0;r<a.length;r++){for(t=new b(O(a[r]),u),i=0;i<u;i++)t.scoreOffsetAt(s[i]);l.push(t)}return l.sort(w),l.length>0?l[0].zone.name:void 0}function z(n){return(n||"").toLowerCase().replace(/\//g,"_")}function S(n){var e,r,i,s;for("string"===typeof n&&(n=[n]),e=0;e<n.length;e++)s=z(r=(i=n[e].split("|"))[0]),t[s]=n[e],o[s]=r,y(s,i[2].split(" "))}function O(n,e){n=z(n);var i,s=t[n];return s instanceof m?s:"string"===typeof s?(s=new m(s),t[n]=s,s):r[n]&&e!==O&&(i=O(r[n],O))?((s=t[n]=new m)._set(i),s.name=o[n],s):null}function M(n){var e,t,i,s;for("string"===typeof n&&(n=[n]),e=0;e<n.length;e++)i=z((t=n[e].split("|"))[0]),s=z(t[1]),r[i]=s,o[i]=t[0],r[s]=i,o[s]=t[1]}function _(n){var e="X"===n._f||"x"===n._f;return!(!n._a||void 0!==n._tzm||e)}function P(n){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(n)}function Z(e){var t=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=O(r),o=n.utc.apply(null,t);return i&&!n.isMoment(e)&&_(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}(a<2||2===a&&l<6)&&P("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+n.version+". See momentjs.com"),m.prototype={_set:function(n){this.name=n.name,this.abbrs=n.abbrs,this.untils=n.untils,this.offsets=n.offsets,this.population=n.population},_index:function(n){var e,t=+n,r=this.untils;for(e=0;e<r.length;e++)if(t<r[e])return e},countries:function(){var n=this.name;return Object.keys(i).filter((function(e){return-1!==i[e].zones.indexOf(n)}))},parse:function(n){var e,t,r,i,o=+n,s=this.offsets,u=this.untils,a=u.length-1;for(i=0;i<a;i++)if(e=s[i],t=s[i+1],r=s[i?i-1:i],e<t&&Z.moveAmbiguousForward?e=t:e>r&&Z.moveInvalidForward&&(e=r),o<u[i]-6e4*e)return s[i];return s[a]},abbr:function(n){return this.abbrs[this._index(n)]},offset:function(n){return P("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(n)]},utcOffset:function(n){return this.offsets[this._index(n)]}},b.prototype.scoreOffsetAt=function(n){this.offsetScore+=Math.abs(this.zone.utcOffset(n.at)-n.offset),this.zone.abbr(n.at).replace(/[^A-Z]/g,"")!==n.abbr&&this.abbrScore++},Z.version="0.5.43",Z.dataVersion="",Z._zones=t,Z._links=r,Z._names=o,Z._countries=i,Z.add=S,Z.link=M,Z.load=function(n){S(n.zones),M(n.links),function(n){var e,t,r,o;if(n&&n.length)for(e=0;e<n.length;e++)t=(o=n[e].split("|"))[0].toUpperCase(),r=o[1].split(" "),i[t]=new v(t,r)}(n.countries),Z.dataVersion=n.version},Z.zone=O,Z.zoneExists=function n(e){return n.didShowError||(n.didShowError=!0,P("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!O(e)},Z.guess=function(n){return e&&!n||(e=C()),e},Z.names=function(){var n,e=[];for(n in o)o.hasOwnProperty(n)&&(t[n]||t[r[n]])&&o[n]&&e.push(o[n]);return e.sort()},Z.Zone=m,Z.unpack=h,Z.unpackBase60=f,Z.needsOffset=_,Z.moveInvalidForward=!0,Z.moveAmbiguousForward=!1,Z.countries=function(){return Object.keys(i)},Z.zonesForCountry=function(n,e){var t;if(t=(t=n).toUpperCase(),!(n=i[t]||null))return null;var r=n.zones.sort();return e?r.map((function(n){return{name:n,offset:O(n).utcOffset(new Date)}})):r};var k,A=n.fn;function N(n){return function(){return this._z?this._z.abbr(this):n.call(this)}}function E(n){return function(){return this._z=null,n.apply(this,arguments)}}n.tz=Z,n.defaultZone=null,n.updateOffset=function(e,t){var r,i=n.defaultZone;if(void 0===e._z&&(i&&_(e)&&!e._isUTC&&(e._d=n.utc(e._a)._d,e.utc().add(i.parse(e),"minutes")),e._z=i),e._z)if(r=e._z.utcOffset(e),Math.abs(r)<16&&(r/=60),void 0!==e.utcOffset){var o=e._z;e.utcOffset(-r,t),e._z=o}else e.zone(r,t)},A.tz=function(e,t){if(e){if("string"!==typeof e)throw new Error("Time zone name must be a string, got "+e+" ["+typeof e+"]");return this._z=O(e),this._z?n.updateOffset(this,t):P("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},A.zoneName=N(A.zoneName),A.zoneAbbr=N(A.zoneAbbr),A.utc=E(A.utc),A.local=E(A.local),A.utcOffset=(k=A.utcOffset,function(){return arguments.length>0&&(this._z=null),k.apply(this,arguments)}),n.tz.setDefault=function(e){return(a<2||2===a&&l<9)&&P("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+n.version+"."),n.defaultZone=e?O(e):null,n};var D=n.momentProperties;return"[object Array]"===Object.prototype.toString.call(D)?(D.push("_z"),D.push("_a")):D&&(D._z=null),n}))},16397:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lobby/online-list",function(){return t(27918)}])},27918:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Gn}});var r,i=t(85893),o=t(60891),s=t(84382),u=t(30980),a=t(67294),l=t(63750),c=t(86896),f=t(11163),d=t(19521),p=t(69894),h=t(74961),m=t(5434),v=t(96348),g=t(36303),b=t(85295),x=t(83253),w=t.n(x);function y(){return y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},y.apply(this,arguments)}var j,C,z,S,O=function(n){return a.createElement("svg",y({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),r||(r=a.createElement("path",{d:"M9 3.52979C7.67392 3.52979 6.40214 4.05658 5.46446 4.99426C4.52678 5.93194 4 7.2037 4 8.52979V11.0598C4.00527 11.6478 4.24255 12.2098 4.66019 12.6237C5.07782 13.0376 5.64201 13.2698 6.23 13.2698H6.52C6.64386 13.2672 6.76192 13.2169 6.84952 13.1293C6.93711 13.0417 6.98745 12.9237 6.99001 12.7998V9.25977C6.98745 9.13591 6.93711 9.01789 6.84952 8.9303C6.76192 8.8427 6.64386 8.79235 6.52 8.78979H6.22C5.7492 8.79318 5.29122 8.9435 4.91 9.21979V8.52979C4.91 7.4477 5.33986 6.40992 6.10501 5.64478C6.87016 4.87963 7.90792 4.44977 8.99001 4.44977C10.0721 4.44977 11.1099 4.87963 11.875 5.64478C12.6401 6.40992 13.07 7.4477 13.07 8.52979V9.21979C12.6897 8.94167 12.2311 8.79115 11.76 8.78979H11.47C11.3462 8.79235 11.2281 8.8427 11.1405 8.9303C11.0529 9.01789 11.0026 9.13591 11 9.25977V12.7998C11.0026 12.9237 11.0529 13.0417 11.1405 13.1293C11.2281 13.2169 11.3462 13.2672 11.47 13.2698H11.76C12.348 13.2698 12.9122 13.0376 13.3298 12.6237C13.7475 12.2098 13.9847 11.6478 13.99 11.0598V8.52979C13.99 7.2037 13.4632 5.93194 12.5255 4.99426C11.5879 4.05658 10.3161 3.52979 8.99001 3.52979H9Z",fill:"#9D9D9D"})))};function M(){return M=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M.apply(this,arguments)}var _=function(n){return a.createElement("svg",M({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),j||(j=a.createElement("path",{d:"M5.28906 7.52956C5.28906 7.08653 5.42043 6.65342 5.66656 6.28505C5.9127 5.91669 6.26254 5.62958 6.67184 5.46004C7.08115 5.2905 7.53155 5.24617 7.96606 5.3326C8.40058 5.41903 8.79971 5.63237 9.11298 5.94564C9.42625 6.25891 9.6396 6.65803 9.72603 7.09255C9.81246 7.52707 9.7681 7.97743 9.59856 8.38674C9.42902 8.79604 9.14191 9.14591 8.77354 9.39205C8.40518 9.63818 7.9721 9.76955 7.52907 9.76955C6.93498 9.76955 6.36523 9.53357 5.94514 9.11348C5.52506 8.6934 5.28906 8.12365 5.28906 7.52956Z",fill:"#27B593"})),C||(C=a.createElement("path",{d:"M4 13.8696C4 12.9414 4.36874 12.0512 5.02512 11.3948C5.68149 10.7384 6.57174 10.3696 7.5 10.3696C8.42826 10.3696 9.31849 10.7384 9.97487 11.3948C10.6312 12.0512 11 12.9414 11 13.8696H4Z",fill:"#27B593"})),z||(z=a.createElement("path",{d:"M11.0008 7.52954C11.0089 7.03386 10.9052 6.54271 10.6975 6.09259C10.4897 5.64247 10.1833 5.24491 9.80078 4.9295C10.147 4.66986 10.5681 4.52954 11.0008 4.52954C11.5312 4.52954 12.0399 4.74022 12.415 5.1153C12.7901 5.49037 13.0008 5.99911 13.0008 6.52954C13.0008 7.05997 12.7901 7.56865 12.415 7.94373C12.0399 8.3188 11.5312 8.52954 11.0008 8.52954H10.8508C10.9531 8.20619 11.0038 7.86869 11.0008 7.52954Z",fill:"#27B593"})),S||(S=a.createElement("path",{d:"M9.94141 10.1795C10.3056 9.86313 10.5958 9.47056 10.7914 9.02954H11.1414C11.9371 9.02954 12.7001 9.34559 13.2627 9.9082C13.8253 10.4708 14.1414 11.2339 14.1414 12.0295H11.6414C11.2706 11.2581 10.6788 10.6141 9.94141 10.1795Z",fill:"#27B593"})))};function P(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Z(){var n=P(["\n  width: 200px;\n  height: 180px;\n  display: flex;\n  flex-direction: column;\n  z-index: 100;\n  align-items: center;\n"]);return Z=function(){return n},n}function k(){var n=P(["\n  display: flex;\n  width: 168px;\n  height: 33px;\n  justify-content: space-between;\n  font-family: ",";\n  align-items: center;\n  font-size: 14px;\n  line-height: 19px;\n\n  color: ",";\n\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  border-bottom-color: ",";\n  padding: 5px 0px;\n\n  &:first-child {\n    padding-top: 15px;\n  }\n  &:last-child {\n    border: none;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return k=function(){return n},n}function A(){var n=P(["\n  width: 12px;\n  height: 12px;\n  border-radius: 12px;\n\n  border: ",";\n  background-color: ",";\n"]);return A=function(){return n},n}function N(){var n=P(["\n  width: 16px;\n  height: 16px;\n  border-radius: 16px;\n\n  background-color: ",";\n"]);return N=function(){return n},n}var E=d.ZP.div(Z()),D=d.ZP.div(k(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.colors.s5})),I=d.ZP.div(A(),(function(n){var e=n.theme;return"2px solid ".concat(e.colors.s5)}),(function(n){return n.theme.colors.a1})),T=d.ZP.div(N(),(function(n){return n.theme.colors.s6})),L=function(n){var e=n.visible,t=n.onClose,r=n.top,o=n.left,s=(0,c.Z)(),u=(0,p.useRelationshipActions)().onChangeOnlineStatus,l=(0,a.useMemo)((function(){return[{title:s.formatMessage({id:"online-status-online"}),icon:(0,i.jsx)(I,{}),action:function(){u("online")}},{title:s.formatMessage({id:"online-status-one-on-one"}),icon:(0,i.jsx)(_,{}),action:function(){u("1:1")}},{title:s.formatMessage({id:"online-status-just-listening"}),icon:(0,i.jsx)(O,{}),action:function(){u("just-listening")}},{title:s.formatMessage({id:"online-status-hidden"}),icon:(0,i.jsx)(T,{}),action:function(){u("invisible")}}]}),[s,u]),f={content:{top:r,left:o,position:"absolute",height:180,width:200,padding:0,backgroundColor:"#15171E",border:"none",boxShadow:"0px 2px 20px rgba(0, 0, 0, 0.3)",borderRadius:10},overlay:{width:"100%",position:"absolute",height:"100%",zIndex:999,backgroundColor:"none"}};return(0,i.jsx)(w(),{onRequestClose:t,isOpen:e,style:f,children:(0,i.jsx)(E,{children:l.map((function(n,e){return(0,i.jsxs)(D,{onClick:function(){n.action(),t()},children:[n.title,n.icon]},e)}))})})},B=t(34051),U=t.n(B),F=t(45170),R=t(92116),V=t(64487),H=t(8386),G=t(88700),q=t(24121),Y=t(59365);function X(n,e,t,r,i,o,s){try{var u=n[o](s),a=u.value}catch(l){return void t(l)}u.done?e(a):Promise.resolve(a).then(r,i)}function J(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function K(){var n=J(["\n  display: flex;\n  padding: 16px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n"]);return K=function(){return n},n}function W(){var n=J(["\n  display: flex;\n  width: 60%;\n"]);return W=function(){return n},n}function $(){var n=J(["\n  font-family: ",";\n  font-size: 12px;\n  line-height: 19px;\n  color: ",";\n"]);return $=function(){return n},n}function Q(){var n=J(["\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: flex-start;\n  align-items: center;\n  width: 35%;\n"]);return Q=function(){return n},n}function nn(){var n=J(["\n  padding: 0 3px;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]);return nn=function(){return n},n}function en(){var n=J(["\n  width: ","px;\n  height: ","px;\n"]);return en=function(){return n},n}function tn(n){var e,t=(0,v.k2)(),r=(0,c.Z)(),o=(0,H.p)().notify,s=(0,f.useRouter)(),u=(0,q.uv)(),l=(0,R.useCreateGroupCall)(),d=(0,Y.r)().onJoin,h=(0,a.useState)(!1),m=h[0],b=h[1],x=n.item,w=n.disableButton,y=n.secondaryTextEl,j=n.iconSize,C=n.onClose,z=n.avatarSize,S="verified"===x.verifiedTeacher?x.teachLang:null,O=(0,a.useCallback)((e=U().mark((function n(){var e;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(w||!t){n.next=6;break}return C&&C(),n.next=4,(0,F.getRoomId)(t,x.id);case 4:"message_init_limit"===(e=n.sent)?window.alert(r.formatMessage({id:"limit-direct-message-alert-content"})):s.push("".concat(u.get("directMessages"),"/room/").concat(e));case 6:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function s(n){X(o,r,i,s,u,"next",n)}function u(n){X(o,r,i,s,u,"throw",n)}s(void 0)}))}),[w,t,u,s,C,x.id,r]),M=(0,a.useMemo)((function(){return null!==S?(0,i.jsx)(sn,{children:r.formatMessage({id:"lang-teacher"},{LANG:r.formatDisplayName(0===S.length?x.nativeLang:S,{type:"language"})})}):null!=x.targetLang&&""!==x.targetLang?(0,i.jsx)(sn,{children:r.formatMessage({id:"target-lang-learner"},{LANG:r.formatDisplayName(x.targetLang,{type:"language"})})}):(0,i.jsx)(sn,{children:r.formatMessage({id:"native-speaker"},{LANG:r.formatDisplayName(x.nativeLang,{type:"language"})})})}),[S,x.nativeLang,x.targetLang,r]),_=(0,p.useIsMutual)(n.item.id),P=(0,p.useIsOnline)(n.item.id)||!1;return(0,i.jsxs)(rn,{children:[(0,i.jsx)(on,{children:(0,i.jsx)(g.Pm,{size:z||48,user:x,online:P,secondaryContents:y||M,isVerifiedTeacher:null!=S,location:"online-list"})}),(0,i.jsxs)(un,{children:[(x.allowDirectMessage||_)&&(0,i.jsx)(an,{children:(0,i.jsx)(ln,{src:"/images/message-button-icon.svg",onClick:O,size:j||48})}),_&&(0,i.jsx)(an,{children:(0,i.jsx)(G.Z,{onClick:function(){w||window.confirm(r.formatMessage({id:"create-private-room-confirmation"},{NAME:x.name}))&&(b(!0),C&&C(),l({transcriptionLang:"any-language",topic:"Private Call",targetLevel:1,invitedUserIds:[x.id],subscriberIds:[],description:"",visibility:"private",cafeId:null}).then((function(n){d(n.id)})).catch((function(n){o({type:"error",content:r.formatMessage({id:"unknown-error"})}),V.Tb(n)})).finally((function(){b(!1)})))},disabled:m,size:j||48})})]})]})}var rn=d.ZP.div(K(),(function(n){return n.theme.colors.s6})),on=d.ZP.div(W()),sn=d.ZP.div($(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){return n.theme.colors.s3})),un=d.ZP.div(Q()),an=d.ZP.div(nn()),ln=d.ZP.img(en(),(function(n){return n.size||36}),(function(n){return n.size||36})),cn=a.memo(tn,(function(n,e){return n.item.id===e.item.id&&n.disableButton===e.disableButton}));function fn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function pn(){var n=dn(["\n  display: flex;\n  padding: 8px 16px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]);return pn=function(){return n},n}function hn(){var n=dn(["\n  display: flex;\n  width: 90%;\n  flex-direction: row;\n  justify-content: space-between;\n  opacity: ",";\n"]);return hn=function(){return n},n}function mn(){var n=dn(["\n  padding-left: 5px;\n  padding-right: 5px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return mn=function(){return n},n}function vn(){var n=dn(["\n  font-family: ",";\n  font-size: 12px;\n  line-height: 19px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n"]);return vn=function(){return n},n}var gn=function(n){var e,t=n.item,r=n.onClose,o=t.lastSeenAt,s=t.online,u=t.onlineStatus,l=t.userId,f=(0,c.Z)(),d=h.utils.useUserProfile.useUserProfileForFriendsList(l).data||null,p=(null===d||void 0===d||null===(e=d.groupCall)||void 0===e?void 0:e.topic)||null,m=(0,a.useMemo)((function(){return null!=p&&u&&"invisible"!==u&&s?(0,i.jsx)(Sn,{children:p}):u&&"invisible"!==u&&s?(0,i.jsx)(Sn,{children:f.formatMessage({id:"online-status-online"})}):(0,i.jsx)(xn,{lastSeenAt:o})}),[f,o,u,p,s]);return null==d?null:(0,i.jsx)(cn,{item:d,secondaryTextEl:m,iconSize:36,avatarSize:34,onClose:r})},bn=a.memo(gn,(function(n,e){return n.item.userId===e.item.userId&&n.item.lastSeenAt===e.item.lastSeenAt&&n.item.online===e.item.online&&n.item.onlineStatus===e.item.onlineStatus}));function xn(n){var e=n.lastSeenAt,t=function(n){var e=(0,a.useState)(Date.now()),t=e[0],r=e[1];return(0,a.useEffect)((function(){var e=function(){r(Date.now())},t=setInterval(e,n);return e(),function(){clearInterval(t)}}),[n]),t}(1e3),r=(0,c.Z)();return(0,i.jsx)(Sn,{children:wn(t,e,r)})}function wn(n,e,t){var r=(n-e)/6e4;if(r<1)return t.formatMessage({id:"last-seen-minutes"},{MINUTES:1});if(r<10)return t.formatMessage({id:"last-seen-minutes"},{MINUTES:10});if(r<30)return t.formatMessage({id:"last-seen-minutes"},{MINUTES:30});if(r<45)return t.formatMessage({id:"last-seen-minutes"},{MINUTES:45});var i=Math.round(r/60);return t.formatMessage({id:"last-seen-hours"},{HOURS:i})}var yn=function(){var n,e=(0,c.Z)(),t=(0,d.Fg)(),r=(0,v.k2)(),o=r?(0,v.RY)(r):null,s=h.utils.useUserProfile.useUserProfile(o).data||null,u=null===s||void 0===s?void 0:s.badge,l=(0,a.useContext)(p.MyOnlineStatusContext),f=(0,a.useContext)(b.K),x=null===f||void 0===f||null===(n=f.currentGroupCall)||void 0===n?void 0:n.topic,w=(0,a.useState)({visible:!1,top:0,left:0}),y=w[0],j=w[1],C=(0,a.useMemo)((function(){return x&&l&&"invisible"!==l?(0,i.jsx)(Sn,{children:h.utils.strings.limitMaxLength(x,40)}):l&&"invisible"!==l?(0,i.jsx)(Sn,{children:e.formatMessage({id:"online-status-online"})}):null}),[e,l,x]),z=(0,a.useCallback)((function(n){n.preventDefault(),n.stopPropagation(),j({visible:!0,top:n.clientY,left:n.clientX-200})}),[]),S=(0,a.useCallback)((function(){j((function(n){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){fn(n,e,t[e])}))}return n}({},n,{visible:!1})}))}),[]);return(0,i.jsx)(jn,{children:s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Cn,{isVisible:"invisible"!==l,children:(0,i.jsx)(g.Pm,{user:s,size:34,secondaryContents:C,isMyAvatar:!0,badge:u,infoWidth:1,location:"online-list"})}),(0,i.jsx)(zn,{onClick:z,children:(0,i.jsx)(m.gz4,{color:t.colors.s3,size:25})}),y.visible&&(0,i.jsx)(L,{top:y.top,left:y.left,onClose:S,visible:y.visible})]})})},jn=d.ZP.div(pn()),Cn=d.ZP.div(hn(),(function(n){return n.isVisible?1:.2})),zn=d.ZP.div(mn()),Sn=d.ZP.div(vn(),(function(n){return n.theme.font.NunitoSansRegular}),(function(n){return n.theme.colors.s3}));function On(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function _n(n){return function(n){if(Array.isArray(n))return On(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return On(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return On(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(){var n=Mn(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return Pn=function(){return n},n}function Zn(){var n=Mn(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100vh - 129px);\n\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  @media (max-height: ","px) {\n    height: calc(100% - 20px);\n  }\n"]);return Zn=function(){return n},n}function kn(){var n=Mn(["\n  display: flex;\n  padding: 30px 24px 24px 16px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]);return kn=function(){return n},n}function An(){var n=Mn(["\n  font-size: 16px;\n  font-family: ",";\n  font-weight: 600;\n  color: ",";\n"]);return An=function(){return n},n}function Nn(){var n=Mn(["\n  &:hover {\n    cursor: pointer;\n  }\n"]);return Nn=function(){return n},n}function En(){var n=Mn(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 150px;\n"]);return En=function(){return n},n}function Dn(){var n=Mn(["\n  font-size: 14px;\n  line-height: 19px;\n  font-family: ",";\n  color: ",";\n"]);return Dn=function(){return n},n}var In=d.ZP.div(Pn()),Tn=d.ZP.div(Zn(),680),Ln=d.ZP.div(kn()),Bn=d.ZP.div(An(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){return n.theme.colors.s1})),Un=(0,d.ZP)(l.And)(Nn()),Fn=d.ZP.div(En()),Rn=d.ZP.div(Dn(),(function(n){return n.theme.wfont.NunitoSansSemiBold}),(function(n){return n.theme.colors.s2})),Vn=function(){var n=(0,c.Z)(),e=(0,v.k2)(),t=(0,d.Fg)(),r=(0,f.useRouter)(),o=(0,a.useCallback)((function(){r.back()}),[r]),s=(0,a.useContext)(p.OnlineUserStatusContextForMutual),u=(0,a.useMemo)((function(){if(null!=s){var n=_n(s);return n.sort((function(n,e){if(n.online&&e.online){if(n.isBirthDay!==e.isBirthDay)return Number(e.isBirthDay)-Number(n.isBirthDay);if("1:1"===n.onlineStatus||"1:1"===e.onlineStatus)return Number("1:1"===e.onlineStatus)-Number("1:1"===n.onlineStatus);if("just-listening"===n.onlineStatus||"just-listening"===e.onlineStatus)return Number("just-listening"===e.onlineStatus)-Number("just-listening"===n.onlineStatus)}return n.online!==e.online||n.online&&"just-listening"===n.onlineStatus?Number(e.online)-Number(n.online):e.lastSeenAt-n.lastSeenAt})),n}return null}),[s]),l=(0,a.useMemo)((function(){return(0,i.jsx)(Fn,{children:(0,i.jsx)(Rn,{children:e?n.formatMessage({id:"no-online-users"}):n.formatMessage({id:"login-to-start-online-friends"})})})}),[e,n]);return(0,i.jsxs)(In,{children:[(0,i.jsxs)(Ln,{children:[(0,i.jsx)(Bn,{children:n.formatMessage({id:"active-now"})}),(0,i.jsx)(Un,{color:t.colors.s1,onClick:o,size:24})]}),(0,i.jsx)(yn,{}),(0,i.jsx)(Tn,{children:u?u.map((function(n){return(0,i.jsx)(bn,{item:n,onClose:function(){}},n.userId)})):l})]})},Hn=function(){var n=(0,Y.r)().requestedCallId;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z.LeftLayout,{children:(0,i.jsx)(Vn,{})}),(0,i.jsx)(o.Z.RightLayout,{children:n?(0,i.jsx)(u.ZP,{}):(0,i.jsx)(s.Z,{})})]})},Gn=Hn;Hn.getLayout=function(n){return(0,i.jsx)(o.Z,{children:n})}},9008:function(n,e,t){n.exports=t(83121)}},function(n){n.O(0,[4885,2982,2678,2013,2543,8987,891,4382,9774,2888,179],(function(){return e=16397,n(n.s=e);var e}));var e=n.O();_N_E=e}]);