(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4279],{88465:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lobby/direct-messages/room/[roomId]",function(){return t(52262)}])},52262:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return $r}});var r=t(85893),i=t(60891),o=t(13526),u=t(34051),s=t.n(u),a=t(67294),c=t(11163),l=t(86896),d=t(19521),f=t(8386),p=t(96486),h=t(5434),g=t(83680),m=t(8193);function x(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function v(){var n=x(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  min-height: 48px;\n  border-radius: 24px;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  background-color: ",";\n  padding: 0 10px;\n"]);return v=function(){return n},n}function y(){var n=x(["\n  width: 100%;\n  margin-top: auto;\n  color: ",";\n  background: none;\n  border: none;\n  outline: none;\n  resize: none;\n  font-family: ",";\n  font-size: 14px;\n  line-height: 18px;\n"]);return y=function(){return n},n}function b(){var n=x(["\n  position: relative;\n"]);return b=function(){return n},n}function j(){var n=x(["\n  display: flex;\n  flex-direction: row;\n  overflow-x: auto;\n"]);return j=function(){return n},n}function w(){var n=x(["\n  margin: 5px 5px;\n  width: 50px;\n  height: 50px;\n"]);return w=function(){return n},n}function k(){var n=x(["\n  width: 18px;\n  height: 18px;\n  position: absolute;\n  right: -2px;\n  top: -2px;\n"]);return k=function(){return n},n}function P(){var n=x(["\n  position: absolute;\n  right: 5px;\n  top: 10px;\n  display: flex;\n  width: 38px;\n  height: 38px;\n  margin-right: 8px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  border-radius: 20px;\n  background-color: ",";\n  opacity: ",";\n  justify-content: center;\n  align-items: center;\n  align-self: flex-end;\n"]);return P=function(){return n},n}function M(){var n=x([""]);return M=function(){return n},n}var I=function(n){var e=n.value,t=n.placeholder,i=n.onPressSend,o=n.image,u=n.onSendImage,s=n.extraButtonEl,c=n.onCancelImage,l=n.onChange,f=(0,d.Fg)(),p=(0,a.useRef)(null),h=(0,a.useCallback)((function(n){l(n.target.value)}),[l]);(0,a.useEffect)((function(){(null===p||void 0===p?void 0:p.current)&&(p.current.style.height="1px",p.current.style.height="".concat(p.current.scrollHeight>100?110:14+p.current.scrollHeight,"px"))}),[e]);var g,m=(0,a.useCallback)((function(){if(o)if(o.length>1){var n=(new Date).getTime().toString();o.forEach((function(e){var t=new Image;t.src=window.URL.createObjectURL(e),t.onload=function(){u&&u(!0,e,{width:t.width,height:t.height},n)}}))}else if(u){var e=new Image;e.src=window.URL.createObjectURL(o[0]),e.onload=function(){u(!1,o[0],{width:e.width,height:e.height})}}i()}),[o,u,i]),x=(0,a.useCallback)((function(n){"Enter"===n.key&&i&&(n.shiftKey||(n.preventDefault(),i()))}),[i]);return g=null!=o?(0,r.jsx)(N,{onClick:m,children:(0,r.jsx)(R,{})}):null,(0,r.jsxs)(Z,{children:[o?(0,r.jsx)(z,{children:o.map((function(n,e){return(0,r.jsxs)(S,{children:[(0,r.jsx)(U,{src:URL.createObjectURL(n)}),(0,r.jsx)(O,{onClick:function(){c&&c(e)},color:f.colors.s1})]},e)}))}):(0,r.jsx)(C,{ref:p,value:e,onKeyPress:x,placeholder:t,color:f.colors.s1,onChange:h}),s,g]})},Z=d.ZP.div(v(),(function(n){return n.theme.colors.s4}),(function(n){return n.theme.colors.s5})),C=d.ZP.textarea(y(),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.wfont.NotoSansKR})),S=d.ZP.div(b()),z=d.ZP.div(j()),U=d.ZP.img(w()),O=(0,d.ZP)(m.oHP)(k()),N=d.ZP.div(P(),(function(n){return n.theme.colors.p1}),(function(n){return n.disabled?.5:1})),R=(0,d.ZP)(m.y1n)(M()),T=t(96348),E=t(45170),D=t(70641),A=t(74961),F=t(24121),H=t(94158),L=t(44012),_=t(81678),B=t(7623),G=t(86893),W=t(89583),q=t(83253),V=t.n(q);function X(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Y(){var n=X(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  align-items: center;\n  background-color: ",";\n  width: ","px;\n\n  z-index: 100;\n  border-radius: 10px;\n"]);return Y=function(){return n},n}function K(){var n=X(["\n  border-width: 0.5px;\n  border-style: solid;\n  height: 60px;\n  border-color: ",";\n  margin: 10px 0px;\n"]);return K=function(){return n},n}function $(){var n=X(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]);return $=function(){return n},n}function J(){var n=X(["\n  display: flex;\n  margin-top: 5px;\n  flex-direction: column;\n  width: 100%;\n  color: ",";\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]);return J=function(){return n},n}var Q=d.ZP.div(Y(),(function(n){return n.theme.colors.s1}),(function(n){return n.isImage?180:240})),nn=d.ZP.div(K(),(function(n){return n.theme.colors.s2})),en=d.ZP.div($(),(function(n){return n.theme.colors.s6})),tn=d.ZP.div(J(),(function(n){var e=n.color,t=n.theme;return e||t.colors.s6}),(function(n){return n.theme.wfont.NunitoSansRegular})),rn=function(n){var e=n.isVisible,t=n.onClose,i=n.top,o=n.left,u=n.onPressReply,s=n.onDelete,a=n.onCopy,c=n.onTranslate,l=n.isMyMessage,f=n.isCreator,p=n.isImage,g=n.onSaveToNotebook,x=n.onSaveImageToNotebook,v=n.onFullImageView,y=n.isHost,b=n.isCreatorItem,j=n.isGIFMessage,w=(0,d.Fg)(),k={content:{top:i,left:l?o-240:o,position:"absolute",height:82,width:p?180:240,padding:0},overlay:{width:"100%",position:"absolute",height:"100%",zIndex:999,backgroundColor:"none"}};return(0,r.jsx)(V(),{isOpen:e,onRequestClose:t,style:k,children:(0,r.jsxs)(Q,{isImage:p,isMyMessage:l,children:[p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(en,{onClick:function(){v(),t()},children:[(0,r.jsx)(m.vju,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"view-full"})})]}),(0,r.jsx)(nn,{}),(0,r.jsxs)(en,{onClick:function(){x(),t()},children:[(0,r.jsx)(h.nG_,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"save"})})]})]}),p&&(l||f||y&&!b)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nn,{}),(0,r.jsxs)(en,{onClick:function(){s(),t()},children:[(0,r.jsx)(W.lp8,{size:18,color:w.colors.a2,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"delete"})})]})]}):l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(en,{onClick:function(){s(),t()},children:[(0,r.jsx)(W.lp8,{size:18,color:w.colors.a2,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"delete"})})]}),(0,r.jsx)(nn,{})]}),!p&&!l&&(f||y&&!b)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(en,{onClick:function(){s(),t()},children:[(0,r.jsx)(W.lp8,{size:18,color:w.colors.a2,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"delete"})})]}),(0,r.jsx)(nn,{})]}),!p&&(0,r.jsxs)(r.Fragment,{children:[!j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(en,{onClick:function(){c(),t()},children:[(0,r.jsx)(h.wd6,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"translate"})})]}),(0,r.jsx)(nn,{})]}),(0,r.jsxs)(en,{onClick:function(){a(),t()},children:[(0,r.jsx)(G.C3L,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"copy"})})]}),(0,r.jsx)(nn,{}),(0,r.jsxs)(en,{onClick:function(){g(),t()},children:[(0,r.jsx)(h.nG_,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"save"})})]}),(0,r.jsx)(nn,{}),(0,r.jsxs)(en,{onClick:function(){u(),t()},children:[(0,r.jsx)(G.w0f,{size:18,color:w.colors.s3,style:{margin:"0 auto"}}),(0,r.jsx)(tn,{children:(0,r.jsx)(L.Z,{id:"reply"})})]})]})]})})},on=t(5428),un=t(30980),sn=t(36303),an=t(64873),cn=t(79221),ln=t(9688);function dn(n,e,t,r,i,o,u){try{var s=n[o](u),a=s.value}catch(c){return void t(c)}s.done?e(a):Promise.resolve(a).then(r,i)}function fn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function pn(){var n=fn(["\n  display: flex;\n"]);return pn=function(){return n},n}function hn(){var n=fn(["\n  padding: 5px 15px;\n  display: flex;\n  flex-direction: row;\n\n  align-items: center;\n  justify-content: flex-start;\n  width: 95%;\n\n  margin-top: ",";\n"]);return hn=function(){return n},n}function gn(){var n=fn(["\n  position: relative;\n  flex-direction: column;\n\n  padding-left: 10px;\n  word-wrap: break-word;\n  width: 100%;\n"]);return gn=function(){return n},n}function mn(){var n=fn(["\n  white-space: pre-wrap;\n  color: ",";\n  font-size: 14px;\n  line-height: 18px;\n  font-family: ",";\n  background-color: ",";\n  border-radius: 0px 8px 8px 8px;\n\n  padding: 15px;\n  text-align: left;\n  display: inline-block;\n"]);return mn=function(){return n},n}function xn(){var n=fn(["\n  padding: 15px;\n  border-radius: 0px 8px 8px 8px;\n  background-color: ",";\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]);return xn=function(){return n},n}function vn(){var n=fn(["\n  color: ",";\n  font-size: 8px;\n  line-height: 12px;\n  margin-left: 8px;\n  display: inline-block;\n  vertical-align: bottom;\n  margin-bottom: 2px;\n  white-space: nowrap;\n  display: flex;\n  align-items: flex-end;\n"]);return vn=function(){return n},n}function yn(){var n=fn(["\n  min-width: 36px;\n  display: flex;\n  height: 100%;\n  align-items: center;\n  display: flex;\n  align-items: flex-start;\n"]);return yn=function(){return n},n}function bn(){var n=fn(["\n  color: ",";\n  display: block;\n"]);return bn=function(){return n},n}function jn(){var n=fn(["\n  font-family: ",";\n  color: ",";\n  font-size: 14px;\n  line-height: 18px;\n  margin-right: 10px;\n  margin-bottom: 2px;\n"]);return jn=function(){return n},n}function wn(){var n=fn(["\n  display: flex;\n  align-self: center;\n  justify-content: center;\n"]);return wn=function(){return n},n}function kn(){var n=fn(["\n  font-family: ",";\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"]);return kn=function(){return n},n}function Pn(){var n=fn(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  text-decoration-line: underline;\n\n  cursor: pointer;\n"]);return Pn=function(){return n},n}function Mn(){var n=fn(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  text-decoration-line: underline;\n\n  cursor: pointer;\n"]);return Mn=function(){return n},n}function In(){var n=fn(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-bottom: 5px;\n"]);return In=function(){return n},n}function Zn(){var n=fn(["\n  font-size: 14px;\n  font-family: ",";\n  color: ",";\n  margin-left: 5px;\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return Zn=function(){return n},n}function Cn(){var n=fn(["\n  border-color: #ffffff;\n  padding-bottom: 5px;\n  margin-bottom: 5px;\n  border-bottom-width: 1px;\n  opacity: 0.7;\n"]);return Cn=function(){return n},n}function Sn(){var n=fn(["\n  font-size: 14px;\n  font-family: ",";\n  color: ",";\n"]);return Sn=function(){return n},n}function zn(){var n=fn(["\n  display: flex;\n  flex-direction: column;\n"]);return zn=function(){return n},n}function Un(){var n=fn(["\n  color: #8f8f8f;\n  text-decoration: underline;\n  cursor: pointer;\n"]);return Un=function(){return n},n}function On(){var n=fn(["\n  color: ",";\n  text-decoration: underline;\n  cursor: pointer;\n"]);return On=function(){return n},n}function Nn(){var n=fn(["\n  margin-top: 10px;\n"]);return Nn=function(){return n},n}function Rn(){var n=fn([""]);return Rn=function(){return n},n}function Tn(){var n=fn([""]);return Tn=function(){return n},n}var En=A.utils.translate.useTranslate,Dn=A.utils.time.getTimeWithAMPM,An=A.utils.useUserProfile.useUserProfileByDirectMessageId,Fn=A.utils.promises.useAsyncMemo,Hn="info",Ln="sent-gift-premium",_n="cafe-apply-received",Bn="navigation",Gn="href",Wn="llm-vote",qn=function(n){var e=n.showName,t=n.isAdmin,i=n.initItem,o=n.requests,u=n.setMessageType,s=n.itemIndex,d=(0,T.k2)(),p=(0,l.Z)(),h=(0,c.useRouter)(),m=(0,a.useState)(i),x=m[0],v=m[1],y=(0,a.useContext)(D.X).socket,b=(0,ln.useValueFromSocket)(y,"direct-message:message-".concat(i.id)),j=(0,g.useDMRoomListStatus)().updateLastMessage;(0,a.useEffect)((function(){b&&d&&(0,cn.getRecentlyDirectMessageById)(d,i.id).then((function(n){v(n),0===s&&j(i.roomId,n)})).catch(alert)}),[b,i,d,j,s]);var w=(0,a.useState)(!1),k=w[0],P=w[1],M=(0,a.useState)(null),I=M[0],Z=M[1],C=(0,a.useState)(!x.body&&!x.voiceMessageUrl),S=C[0],z=C[1],U=(0,a.useState)(!x.imageUrl),O=U[0],N=U[1];(0,a.useEffect)((function(){z(!x.body&&!x.voiceMessageUrl)}),[x]);var R=(0,B.d)().open,F=(0,an.hD)(),H=(0,_.so)().onSaveToNotebook,G=A.utils.useUserProfile.useUserProfile(x.userId).data,W=En(x.id,"DM",x.body||"",F),q=W.data,V=W.status,X=W.refetch,Y=W.remove,K=An(x.parentId).data||null,$=(0,a.useMemo)((function(){return x.userId===(null===F||void 0===F?void 0:F.id)?"sent":"received"}),[x.userId,F]),J=(0,a.useMemo)((function(){return"sent"===$}),[$]),Q=(0,a.useCallback)((function(n){R(n,0,null)}),[R]),nn=(0,a.useCallback)((function(n){Z(n),P(!0)}),[]),en=(0,a.useCallback)((function(){F&&null!=x.body&&"voice-message"!==x.messageType&&X()}),[X,x.body,x.messageType,F]),tn=(0,a.useCallback)((function(n,e,t){var r,i,o={title:null,type:t?"gif":"text",body:n,imageUrl:null,imageWidth:null!==(r=x.imageWidth)&&void 0!==r?r:null,imageHeight:null!==(i=x.imageHeight)&&void 0!==i?i:null,sourceType:"DM",sourceId:e};null!=n&&H(o)}),[x.imageHeight,x.imageWidth,H]),on=(0,a.useCallback)((function(n,e){var t,r,i;H({title:null,type:"image",body:null,imageUrl:null!==(t=n.uri)&&void 0!==t?t:null,imageWidth:null!==(r=n.width)&&void 0!==r?r:null,imageHeight:null!==(i=n.height)&&void 0!==i?i:null,sourceType:"DM",sourceId:e})}),[H]),un=(0,a.useCallback)((function(){G&&d&&(0,E.deleteDirectMessage)(d,x.roomId,x.id).then((function(n){n.result?(Y(),z(!0),N(!0)):alert(p.formatMessage({id:"fail-delete-message"}))}),(function(n){(0,f.k)(n,p)}))}),[p,x.id,x.roomId,d,Y,G]),dn=(0,a.useCallback)((function(){x.body&&navigator.clipboard.writeText(x.body)}),[x.body]),fn=(0,a.useCallback)((function(n){var e,t,r,i,o,s;n.stopPropagation(),nn({position:{x:n.clientX,y:n.clientY},reply:function(){return u(x,"reply")},edit:function(){return u(x,"edit")},translate:en,copy:dn,save:function(){var n;return tn(x.body,x.id,null!==(r=null===(n=x.messageType)||void 0===n?void 0:n.includes("gif"))&&void 0!==r&&r)},saveImage:function(){return on({uri:null!==(i=x.imageUrl)&&void 0!==i?i:void 0,height:null!==(o=x.imageHeight)&&void 0!==o?o:void 0,width:null!==(s=x.imageWidth)&&void 0!==s?s:void 0},x.id)},onDelete:"sent"===$?un:null,isImage:!!(null===(e=x.messageType)||void 0===e?void 0:e.includes("image")),onFullImageView:function(){var n,e,t;Q([{height:null!==(n=x.imageHeight)&&void 0!==n?n:void 0,width:null!==(e=x.imageWidth)&&void 0!==e?e:void 0,uri:null!==(t=x.imageUrl)&&void 0!==t?t:void 0}])},isMyMessage:J,isGIFMessage:!!(null===(t=x.messageType)||void 0===t?void 0:t.includes("gif"))})}),[$,J,x,dn,un,Q,tn,on,en,nn,u]);if(x.messageType===Hn)return(0,r.jsx)(ue,{children:(0,r.jsx)(se,{children:(0,g.getInformationMessage)(p,null===G||void 0===G?void 0:G.name,x.type,x.body)})});if(x.type===Ln){var pn=x.body?JSON.parse(x.body):null;return(0,r.jsxs)(Jn,{showName:e,children:[(0,r.jsx)(re,{children:e?(0,r.jsx)(sn.bl,{userId:x.userId,size:36,extraRequest:o,isAnimated:!0}):null}),(0,r.jsx)(Qn,{children:(0,r.jsx)(ne,{isMine:J,children:(0,r.jsx)(L.Z,{id:"sent-gift-premium-code-direct-message",values:{TYPE:pn.premiumType,CODE:pn.giftCode,copy:function(n){return(0,r.jsx)(ae,{onClick:dn,children:n})},color:function(n){return(0,r.jsx)(ce,{direction:$,onClick:function(){alert("not supported from web")},children:n})}}})})})]})}if(x.type===_n){var hn=x.body?JSON.parse(x.body):null,gn=function(){isNaN(hn.cafeId)||h.push({pathname:"/lobby/cafe-detail",query:{cafeId:hn.cafeId}},"/lobby/cafe-detail")};return(0,r.jsxs)(Jn,{showName:e,children:[(0,r.jsx)(re,{children:e?(0,r.jsx)(sn.bl,{userId:x.userId,size:36,extraRequest:o,isAnimated:!0}):null}),(0,r.jsx)(Qn,{children:(0,r.jsx)(ne,{isMine:J,children:(0,r.jsx)(L.Z,{id:"cafe-apply-received-direct-message",values:{CAFE_NAME:hn.cafeName,link:function(n){return(0,r.jsx)(ce,{direction:$,onClick:gn,children:n})}}})})})]})}if(x.type===Bn||x.type===Gn||x.type===Wn){var mn=x.body?JSON.parse(x.body):null,xn="href"===mn.type&&mn.url.startsWith("https://");return(0,r.jsxs)(Jn,{showName:e,children:[(0,r.jsx)(re,{children:e?(0,r.jsx)(sn.bl,{userId:x.userId,size:36,extraRequest:o,isAnimated:!0}):null}),(0,r.jsx)(Qn,{children:(0,r.jsxs)(ne,{isMine:J,children:[mn.body,(0,r.jsx)(xe,{children:xn?(0,r.jsx)("a",{href:mn.url,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(me,{children:mn.title})}):(0,r.jsx)(ge,{onClick:function(){return alert(p.formatMessage({id:"only-support-mobile"}))},children:mn.title})})]})})]})}return(0,r.jsxs)(Jn,{showName:e,children:[(0,r.jsx)(re,{children:e?(0,r.jsx)(sn.bl,{userId:x.userId,size:36,extraRequest:o,isAnimated:!0}):null}),(0,r.jsxs)(Qn,{onClick:fn,children:[(0,r.jsx)(Vn,{showName:e,user:G,isAdmin:t}),(0,r.jsxs)($n,{children:[(0,r.jsx)(Yn,{direction:$,isDeleted:S,isImgDeleted:O,isMyMessage:J,item:x,parentMessageItemUser:K,translated:q,translatedStatus:V}),(0,r.jsx)(Kn,{createdAt:new Date(x.createdAt)})]})]}),k&&I?(0,r.jsx)(rn,{isVisible:k,onClose:function(){P(!1)},top:I.position.y,left:I.position.x,onPressReply:I.reply,onDelete:I.onDelete?I.onDelete:function(){},onCopy:I.copy,onTranslate:I.translate,isMyMessage:I.isMyMessage,isCreator:!1,isImage:I.isImage,isHost:!1,isCreatorItem:!1,onSaveToNotebook:I.save,onSaveImageToNotebook:I.saveImage,onFullImageView:I.onFullImageView,isGIFMessage:I.isGIFMessage}):null]})},Vn=function(n){var e=n.showName,t=n.user,i=n.isAdmin;return e?(0,r.jsxs)(sn.VG,{style:{marginBottom:"3px"},children:[(0,r.jsx)(un.lT,{isAdmin:"admin"===(null===t||void 0===t?void 0:t.badge),isPremium:!!(null===t||void 0===t?void 0:t.premium),premiumPlan:null===t||void 0===t?void 0:t.premiumPlan,isVerified:"verified"===(null===t||void 0===t?void 0:t.verifiedTeacher),size:1.5}),(0,r.jsx)(oe,{children:t?"".concat(t.name).concat(i?" (".concat(t.id,")"):""):"Unknown"})]}):null},Xn=function(n){var e=n.parentMessageItemUser,t=n.direction,i=n.parentText,o=n.type,u=(0,l.Z)(),s=(0,a.useMemo)((function(){return"edit"===o?u.formatMessage({id:"direct-message-correct-to"},{NAME:e.name}):u.formatMessage({id:"direct-message-reply-to"},{NAME:e.name})}),[u,o,e.name]);return(0,r.jsxs)(he,{children:[(0,r.jsxs)(le,{children:[(0,r.jsx)(sn.ZP,{user:e,size:21,isAnimated:!!e.premium}),(0,r.jsx)(de,{messageDirection:t,children:s})]}),(0,r.jsx)(fe,{children:(0,r.jsx)(pe,{messageDirection:t,children:i})})]})},Yn=function(n){var e,t=n.item,i=n.isImgDeleted,o=n.isMyMessage,u=n.parentMessageItemUser,c=n.translated,l=n.direction,f=n.translatedStatus,p=n.isDeleted,h=(0,d.Fg)(),g=t.messageType&&t.messageType.includes("image"),m=(0,a.useMemo)((function(){if(t.imageUrl){if(t.imageUrl.startsWith("https://www.hilokal.com"))return t.imageUrl;var n=A.utils.imageHandler.imageEditUrl(t.imageUrl,{resize:{width:250}});return null!==n&&void 0!==n?n:void 0}}),[t.imageUrl]),x=Fn((e=s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.voiceMessageUrl){n.next=7;break}return n.next=3,(0,cn.getNativeSpeakerAudio)(t.voiceMessageUrl);case 3:return e=n.sent,n.abrupt("return",e);case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(n){dn(o,r,i,u,s,"next",n)}function s(n){dn(o,r,i,u,s,"throw",n)}u(void 0)}))}),[t],null);return g?i?(0,r.jsx)(ne,{isMine:o,color:h.colors.s1,children:"(deleted)"}):(0,r.jsx)(ee,{isMine:o,src:m},t.id):"voice-message"===t.messageType?null==x||p?(0,r.jsx)(ne,{isMine:o,children:"(deleted)"}):(0,r.jsxs)("audio",{controls:!0,src:x,children:["Your browser does not support the",(0,r.jsx)("code",{children:"audio"})," element."]}):"gif"===t.messageType?(0,r.jsx)(ye,{children:t.body&&!p?(0,r.jsx)(be,{src:t.body}):(0,r.jsx)(ne,{isMine:o,children:"(deleted)"})}):"correction"===t.type&&null!=t.correction?(0,r.jsx)(ne,{isMine:o,children:"correction"}):(0,r.jsx)(on.Z,{children:(0,r.jsxs)(ne,{isMine:o,children:[t.parentId&&null!=u&&(0,r.jsx)(Xn,{direction:l,type:t.type,parentText:t.parentBody,parentMessageItemUser:u}),p?"(deleted)":t.body,"loading"===f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsx)(ie,{children:"waiting"})]}),"success"===f&&!p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsx)(ie,{children:c})]})]})})},Kn=function(n){var e=n.createdAt;return(0,r.jsx)(te,{children:Dn(e)})},$n=d.ZP.div(pn()),Jn=d.ZP.div(hn(),(function(n){return n.showName?"15px":"0px"})),Qn=d.ZP.div(gn()),ne=d.ZP.div(mn(),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.wfont.NotoSansKR}),(function(n){return n.isMine?"#2C303E":"#464D63"})),ee=d.ZP.img(xn(),(function(n){return n.isMine?"#2C303E":"#464D63"})),te=d.ZP.div(vn(),(function(n){return n.theme.colors.s3})),re=d.ZP.div(yn()),ie=d.ZP.div(bn(),(function(n){return n.theme.colors.s1})),oe=d.ZP.span(jn(),(function(n){return n.theme.wfont.NotoSansKR}),(function(n){return n.theme.colors.s3})),ue=d.ZP.div(wn()),se=d.ZP.span(kn(),(function(n){return n.theme.wfont.NotoSansKR}),(function(n){return n.theme.colors.s2})),ae=d.ZP.span(Pn(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){return n.theme.colors.s1})),ce=d.ZP.span(Mn(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){var e=n.theme;return"received"===n.direction?e.colors.p1:"#ffffff"})),le=d.ZP.div(In()),de=d.ZP.span(Zn(),(function(n){return n.theme.font.NunitoSansRegular}),(function(n){var e=n.theme;return"received"===n.messageDirection?e.colors.s1:e.colors.s2})),fe=d.ZP.div(Cn()),pe=d.ZP.span(Sn(),(function(n){return n.theme.font.NunitoSansRegular}),(function(n){var e=n.theme;return"received"===n.messageDirection?e.colors.s1:e.colors.s2})),he=d.ZP.div(zn()),ge=d.ZP.p(Un()),me=d.ZP.p(On(),(function(n){return n.theme.colors.p1})),xe=d.ZP.div(Nn()),ve=function(n,e){return n.initItem.id===e.initItem.id&&n.initItem.body===e.initItem.body},ye=d.ZP.div(Rn()),be=d.ZP.img(Tn()),je=a.memo(qn,ve),we=t(84382),ke=t(44355),Pe=t(65086),Me=t(17162),Ie=t(59289),Ze=t(59365);function Ce(n,e,t,r,i,o,u){try{var s=n[o](u),a=s.value}catch(c){return void t(c)}s.done?e(a):Promise.resolve(a).then(r,i)}function Se(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ze(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){Se(n,e,t[e])}))}return n}function Ue(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Oe(){var n=Ue(["\n  position: absolute;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  top: ","px;\n  right: 0px;\n  height: calc(100% - 65px);\n  width: 375px;\n  z-index: 10;\n  border-left: 1px solid ",";\n  overflow: auto;\n"]);return Oe=function(){return n},n}function Ne(){var n=Ue(["\n  flex: 1;\n  overflow-y: auto;\n"]);return Ne=function(){return n},n}function Re(){var n=Ue(["\n  height: 120px;\n  border-top: 1px solid ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return Re=function(){return n},n}function Te(){var n=Ue(["\n  background-color: ",";\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: 100px;\n  padding: 13px;\n  color: ",";\n  font-family: ",";\n  margin: 16px;\n  flex: 1;\n"]);return Te=function(){return n},n}function Ee(){var n=Ue(["\n  margin-top: 18px;\n  margin-left: 16px;\n  width: 90%;\n"]);return Ee=function(){return n},n}function De(){var n=Ue(["\n  color: ",";\n  font-family: ",";\n"]);return De=function(){return n},n}function Ae(){var n=Ue(["\n  margin-right: 10px;\n"]);return Ae=function(){return n},n}function Fe(){var n=Ue(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]);return Fe=function(){return n},n}var He=A.apiClient.postGroupDirectMessageInvite,Le=A.apiClient.postDeeplinkGenerate,_e=Pe.protocol.MAX_NUMBER_OF_DIRECT_MESSAGE_ROOM,Be=function(n){var e=n.onClose,t=n.participants,i=(0,T.k2)(),o=(0,T.RY)(i),u=(0,d.Fg)(),c=(0,g.useCurrentRoomId)()[0],l=(0,Ze.r)().requestedCallId,f=(0,a.useState)(null),p=f[0],h=f[1],m=(0,a.useState)("Copy"),x=m[0],v=m[1],y=(0,a.useCallback)(function(){var n,t=(n=s().mark((function n(t){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c||!i){n.next=5;break}return r=t.map((function(n){return ze({},n,{premium:void 0})})),n.next=4,He(i,{roomId:c,invitedUsers:r});case 4:e();case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function u(n){Ce(o,r,i,u,s,"next",n)}function s(n){Ce(o,r,i,u,s,"throw",n)}u(void 0)}))});return function(n){return t.apply(this,arguments)}}(),[c,i,e]);return(0,a.useEffect)((function(){i&&Le(i,{suffix:"group-messages?roomId=".concat(c,"&userId=").concat(o)}).then((function(n){return h(n.link)}))}),[c,i,o]),(0,r.jsxs)(Ge,{topPadding:l?30:0,onClick:function(n){n.stopPropagation()},children:[(0,r.jsx)(We,{children:(0,r.jsx)(Me.Z,{title:"Invite",onClickOk:y,onClose:e,disabledUsers:t,limitNumber:_e,backgroundColor:u.colors.s5})}),(0,r.jsx)(qe,{children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xe,{children:(0,r.jsx)(Ye,{children:"Or send an invite link to a friend!"})}),(0,r.jsxs)($e,{children:[(0,r.jsx)(Ve,{children:p}),(0,r.jsx)(Ke,{children:(0,r.jsx)(Ie.Z,{width:74,text:x,textColor:u.colors.s1,onPress:function(){p&&(navigator.clipboard.writeText(p),v("Copied!"))},color:u.colors.p1})})]})]}):(0,r.jsx)(H.Z,{size:"small"})})]})},Ge=d.ZP.div(Oe(),(function(n){return n.theme.colors.s5}),(function(n){return n.topPadding+65}),(function(n){return n.theme.colors.s4})),We=d.ZP.div(Ne()),qe=d.ZP.div(Re(),(function(n){return n.theme.colors.s4})),Ve=d.ZP.div(Te(),(function(n){return n.theme.colors.s6}),(function(n){return n.theme.colors.s5}),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.font.NunitoSansRegular})),Xe=d.ZP.div(Ee()),Ye=d.ZP.p(De(),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.font.NunitoSansRegular})),Ke=d.ZP.div(Ae()),$e=d.ZP.div(Fe()),Je=t(68181),Qe=t(49027);function nt(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function et(){var n=nt([""]);return et=function(){return n},n}function tt(){var n=nt(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n  padding: 0 14px;\n"]);return tt=function(){return n},n}function rt(){var n=nt(["\n  color: ",";\n  word-break: break-word;\n  font-family: ",";\n  font-size: 18px;\n  line-height: 25px;\n"]);return rt=function(){return n},n}function it(){var n=nt(["\n  cursor: pointer;\n  color: ",";\n"]);return it=function(){return n},n}function ot(){var n=nt(["\n  cursor: ",";\n  text-decoration-line: underline;\n  color: ",";\n"]);return ot=function(){return n},n}function ut(){var n=nt(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n  padding: 10px 20px;\n"]);return ut=function(){return n},n}function st(){var n=nt(["\n  display: flex;\n  padding: 7px 10px;\n  align-items: center;\n  opacity: ",";\n"]);return st=function(){return n},n}function at(){var n=nt(["\n  padding: 0 10px;\n"]);return at=function(){return n},n}function ct(){var n=nt(["\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n"]);return ct=function(){return n},n}function lt(){var n=nt(["\n  color: ",";\n  font-family: ",";\n  font-size: 14px;\n  line-height: 18px;\n"]);return lt=function(){return n},n}function dt(){var n=nt(["\n  width: 30px;\n  padding: 0 15px;\n"]);return dt=function(){return n},n}function ft(){var n=nt(["\n  color: ",";\n  cursor: pointer;\n"]);return ft=function(){return n},n}var pt=function(n){var e=n.title,t=n.users,i=n.onClickOk,o=n.onClose,u=n.disabledUsers,s=n.userActions,c=(0,l.Z)(),f=(0,d.Fg)(),p=(0,a.useState)(""),h=p[0],g=p[1],m=(0,a.useState)(!1),x=m[0],v=m[1],y=(0,Je.d)().openUserModal,b=(0,a.useMemo)((function(){if(""===h.trim())return t;var n=h.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().indexOf(n)>-1}))}),[t,h]),j=(0,a.useCallback)((function(n){y(n,!0,s(n.id))}),[y,s]);return(0,r.jsxs)(mt,{onClick:function(n){n.stopPropagation()},children:[(0,r.jsxs)(xt,{children:[(0,r.jsx)(yt,{size:24,onClick:o}),(0,r.jsx)(vt,{children:e}),i?(0,r.jsx)(bt,{onClick:function(){i&&i()},children:"OK"}):null]}),(0,r.jsx)(jt,{children:(0,r.jsx)(Qe.B,{placeholder:c.formatMessage({id:"search-friends-placeholder"}),onChangeText:function(n){g(n)},value:h,onFocus:function(){v(!0)},width:120,isSearchBarFocus:x,onBack:function(){v(!1),g("")},backgroundColor:f.colors.s5})}),b.map((function(n){return(0,r.jsx)(gt,{user:n,disabled:null===u||void 0===u?void 0:u.some((function(e){return e.id===n.id})),onClick:function(){j(n)}},n.id)}))]})},ht=function(n){var e=n.user,t=n.onClick,i=n.disabled;return(0,r.jsxs)(wt,{disabled:i,children:[(0,r.jsx)(kt,{children:(0,r.jsx)(sn.s$,{size:42,user:e,onPress:function(){return t(e.id)}})}),(0,r.jsx)(Pt,{children:(0,r.jsx)(Mt,{children:e.name})}),(0,r.jsx)(It,{children:(0,r.jsx)(Zt,{size:30,onClick:function(){return t(e.id)}})})]})},gt=a.memo(ht),mt=d.ZP.div(et()),xt=d.ZP.div(tt()),vt=d.ZP.span(rt(),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.font.NunitoSansSemiBold})),yt=(0,d.ZP)(h.FU5)(it(),(function(n){return n.theme.colors.s1})),bt=(0,d.ZP)(vt)(ot(),(function(n){return n.disabled?"not-allowed":"pointer"}),(function(n){var e=n.disabled,t=n.theme;return e?t.colors.s4:t.colors.s1})),jt=d.ZP.div(ut()),wt=d.ZP.div(st(),(function(n){return n.disabled?.2:1})),kt=d.ZP.div(at()),Pt=d.ZP.div(ct()),Mt=d.ZP.span(lt(),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.font.NunitoSansRegular})),It=d.ZP.div(dt()),Zt=(0,d.ZP)(h.xr$)(ft(),(function(n){return n.theme.colors.s1}));function Ct(){var n,e,t=(n=["\n  position: absolute;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  top: ","px;\n  right: 0px;\n  height: calc(100% - 65px);\n  width: 375px;\n  z-index: 10;\n  border-left: 1px solid ",";\n  overflow: auto;\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return Ct=function(){return t},t}var St=function(n){var e=n.onClose,t=n.participants,i=n.requests,o=(0,Ze.r)().requestedCallId,u=(0,a.useCallback)((function(n){return i(n)}),[i]);return(0,r.jsx)(zt,{topPadding:o?30:0,onClick:function(n){n.stopPropagation()},children:(0,r.jsx)(pt,{title:"Manage room",onClickOk:e,onClose:e,users:t,userActions:u})})},zt=d.ZP.div(Ct(),(function(n){return n.theme.colors.s5}),(function(n){return n.topPadding+65}),(function(n){return n.theme.colors.s4})),Ut=t(72392),Ot=t(60945),Nt=t(12146),Rt=t(75562),Tt=t(95671),Et=t(69894),Dt=t(6424),At=t(92763);function Ft(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Ht(){var n=Ft(["\n  display: flex;\n  background-color: ",";\n  padding: 8px 0 8px 16px;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Ht=function(){return n},n}function Lt(){var n=Ft(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return Lt=function(){return n},n}function _t(){var n=Ft(["\n  font-family: ",";\n  font-size: 18px;\n  line-height: 25px;\n  color: ",";\n"]);return _t=function(){return n},n}function Bt(){var n=Ft(["\n  font-size: 14px;\n  line-height: 20px;\n\n  font-family: ",";\n  color: ",";\n"]);return Bt=function(){return n},n}function Gt(){var n=Ft(["\n  padding: 10px;\n\n  background: transparent;\n\n  cursor: pointer;\n"]);return Gt=function(){return n},n}function Wt(n){var e=n.onClose,t=n.toName,i=n.message,o=(0,d.Fg)();return(0,r.jsxs)(qt,{children:[(0,r.jsxs)(Vt,{children:[(0,r.jsxs)(Xt,{children:["To. ",t]}),(0,r.jsx)(Yt,{children:i})]}),(0,r.jsx)(Kt,{onClick:e,children:(0,r.jsx)(m.oHP,{size:20,color:o.colors.s1})})]})}var qt=d.ZP.div(Ht(),(function(n){return n.theme.colors.s3})),Vt=d.ZP.div(Lt()),Xt=d.ZP.span(_t(),(function(n){return n.theme.wfont.NunitoSansBold}),(function(n){return n.theme.colors.s6})),Yt=d.ZP.div(Bt(),(function(n){return n.theme.wfont.NunitoSansRegular}),(function(n){return n.theme.colors.s6})),Kt=d.ZP.div(Gt());function $t(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Jt(n,e,t,r,i,o,u){try{var s=n[o](u),a=s.value}catch(c){return void t(c)}s.done?e(a):Promise.resolve(a).then(r,i)}function Qt(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function u(n){Jt(o,r,i,u,s,"next",n)}function s(n){Jt(o,r,i,u,s,"throw",n)}u(void 0)}))}}function nr(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o=[],u=!0,s=!1;try{for(t=t.call(n);!(u=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);u=!0);}catch(a){s=!0,i=a}finally{try{u||null==t.return||t.return()}finally{if(s)throw i}}return o}}(n,e)||rr(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function tr(n){return function(n){if(Array.isArray(n))return $t(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||rr(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(n,e){if(n){if("string"===typeof n)return $t(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$t(n,e):void 0}}function ir(){var n=er(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  @media (max-height: ","px) {\n    height: 680px;\n  }\n"]);return ir=function(){return n},n}function or(){var n=er(["\n  display: flex;\n  flex-direction: column-reverse;\n  overflow-y: auto;\n  flex: 1;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]);return or=function(){return n},n}function ur(){var n=er(["\n  display: flex;\n  flex-direction: row;\n  padding: 27px 17px;\n  /* background-color: ","; */\n"]);return ur=function(){return n},n}function sr(){var n=er(["\n  flex-grow: 1;\n  width: 100%;\n"]);return sr=function(){return n},n}function ar(){var n=er(["\n  padding: 0 16px;\n  background-color: ",";\n"]);return ar=function(){return n},n}function cr(){var n=er(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n  box-shadow: 0px 1px 0px ",";\n  padding: 0 10px;\n"]);return cr=function(){return n},n}function lr(){var n=er(["\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return lr=function(){return n},n}function dr(){var n=er(["\n  font-family: ",";\n  font-size: 18px;\n  line-height: 25px;\n  color: ",";\n  text-align: center;\n  background-color: transparent;\n  margin-left: 10px;\n"]);return dr=function(){return n},n}function fr(){var n=er(["\n  font-family: ",";\n  font-size: 14px;\n  color: ",";\n  text-align: center;\n  background-color: transparent;\n  padding: 30px;\n"]);return fr=function(){return n},n}function pr(){var n=er(["\n  font-family: ",";\n  font-size: 18px;\n  line-height: 25px;\n  width: 100%;\n  color: ",";\n  text-align: center;\n  background-color: transparent;\n  border: none;\n  // border-bottom: 2px solid red;\n"]);return pr=function(){return n},n}function hr(){var n=er(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 48px;\n  height: 48px;\n  background-color: ",";\n  border-radius: 24px;\n"]);return hr=function(){return n},n}function gr(){var n=er(["\n  position: relative;\n  bottom: 50px;\n  height: 0px;\n"]);return gr=function(){return n},n}function mr(){var n=er(["\n  padding: 5px;\n  z-index: 1;\n  position: absolute;\n  right: 30px;\n  top: 50px;\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  border-radius: 10px;\n  button:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"]);return mr=function(){return n},n}function xr(){var n=er(["\n  padding: 15px 22px;\n  margin: 0 2px;\n  font-family: ",";\n  font-weight: 400;\n  text-align: center;\n  text-decoration: none;\n  color: ",";\n  width: auto;\n  border: none;\n  background-color: ",";\n  &:hover {\n    cursor: ",";\n  }\n"]);return xr=function(){return n},n}function vr(){var n=er(["\n  cursor: pointer;\n  color: ",";\n  padding-left: 10px;\n"]);return vr=function(){return n},n}function yr(){var n=er(["\n  text-align: center;\n  color: white;\n  padding: 20px;\n"]);return yr=function(){return n},n}function br(){var n=er(['\n  background-color: #2c303e;\n  border-radius: 100px;\n  padding: 6px;\n  padding-left: 11px;\n  padding-right: 11px;\n  font-size: 16px;\n  font-family: "Nunito Sans";\n  font-style: normal;\n  display: inline-block;\n']);return br=function(){return n},n}var jr=A.utils.useUserProfile.useUserProfile,wr=A.utils.strings.limitMaxLength,kr=A.utils.time.getMonthShortName,Pr=A.utils.performance.useStableIdentity,Mr=function(){var n=(0,c.useRouter)();if(n.query.roomId)return(0,r.jsx)(Cr,{roomId:n.query.roomId});return(0,r.jsx)(we.Z,{})};function Ir(n){if(null!==n&&n){var e=n.getMonth(),t=n.getDate();return t=t>=10?t:"0"+t,"".concat(kr(e)," ").concat(t)}}var Zr=function(n,e){return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()};function Cr(n){var e,t=n.roomId,i=(0,T.k2)(),o=(0,T.RY)(i),u=(0,l.Z)(),d=jr(o).data,h=(0,a.useState)(null),m=h[0],x=h[1],v=(0,a.useState)(null),y=v[0],b=v[1],j=(0,a.useState)(!1),w=j[0],k=j[1],P=(0,a.useState)(!1),M=P[0],I=P[1],Z=(0,a.useState)(!1),C=Z[0],S=Z[1],z=(0,g.useDirectMessageHistoryByRoomId)(t),U=z.data,O=z.isLoading,N=z.isFetching,R=z.error,A=(0,g.useDirectMessageParticipantsByRoomId)(t),L=A.data,_=A.refetch,G=(0,g.useDirectMessageRoomInfoByRoomId)(t),W=G.data,q=G.error,V=(0,g.useReadRoom)(),X=(0,a.useState)([]),Y=X[0],K=X[1],$=nr((0,g.useCurrentRoomId)(),2),J=$[0],Q=$[1],nn=(0,c.useRouter)(),en=(0,F.uv)(),tn=(0,a.useState)(),rn=tn[0],on=tn[1],un=(0,g.useNewMessages)(),sn=(0,a.useContext)(D.X).socket,an=(0,a.useRef)(),cn=(0,Ot.useStaticMutualUserIds)().data,ln=(0,Ot.useSearchRelatedUsers)("","mutuals").filteredUsers,dn=(0,g.useDirectMessageRoomHandler)(t),fn=(0,T.cn)(i),pn=(0,B.d)().fullScreenImages;(0,a.useEffect)((function(){dn&&"kick-out"===dn.type&&(window.alert(u.formatMessage({id:"room-closed-title"})),nn.push("".concat(en.get("directMessages"))))}),[dn,nn,en,u]);var hn=(0,Et.useRelationshipActions)().onUnblock,gn=(0,a.useMemo)((function(){return(null===L||void 0===L?void 0:L.filter((function(n){return n.id!==o&&n.isActive})))||[]}),[L,o]),mn=(0,a.useMemo)((function(){return gn.map((function(n){return n.id}))}),[gn]),xn=(0,a.useMemo)((function(){var n=!!cn&&cn.findIndex((function(n){return mn.find((function(e){return e===n}))}))>-1;return n||ln.findIndex((function(n){return mn.find((function(e){return e===n.id}))}))>-1}),[cn,ln,mn]),vn=gn[0]?gn[0].id:null,yn=gn[0]?gn[0].name:"",bn=(0,Et.useIsBlockedUser)(vn);gn.length>1&&(bn=!1);var jn=(0,a.useCallback)((function(n){if(!bn&&null!=sn&&J){var e={roomId:J,msgId:n};sn.emit("direct-messages:read",e),V(J)}}),[sn,J,bn,V]),wn=(0,a.useCallback)((function(n){var e=n.result;"disallowing"===e?window.alert(u.formatMessage({id:"disallow-send-message"})):"image_disallowing"===e?window.alert(u.formatMessage({id:"disallow-send-image"})):"error"===e&&window.alert(u.formatMessage({id:"unknown-error"})),an.current=""}),[u]),kn=(0,a.useCallback)((function(n){var e=n.body,t=n.parentId,r=n.type,o=n.messageType,s=n.voiceMessageUrl;if(J&&W&&i){var a={roomId:J,body:e,parentId:t,type:r,messageType:o,voiceMessageUrl:s};an.current=e,(0,E.postDirectMessage)(i,a).then((function(n){wn(n)}),(function(n){an.current="",(0,f.k)(n,u)}))}}),[i,J,W,wn,u]),Pn=(0,a.useCallback)(function(){var n=Qt(s().mark((function n(e){var t,r,o,u,a,c,l,d,f,p;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.body,r=e.parentId,o=e.type,u=e.image,a=e.imageSize,c=e.messageType,l=e.voiceMessageUrl,null==sn||!J||!i||null==u||null==a){n.next=13;break}return n.next=4,(0,Ut.p)(i,u);case 4:if(null==(d=n.sent)){n.next=11;break}return f={roomId:J,body:t,type:o,parentId:r,messageType:c,voiceMessageUrl:l,imageUrl:d,imageWidth:a.width,imageHeight:a.height},n.next=9,(0,E.postDirectMessage)(i,f);case 9:p=n.sent,wn(p);case 11:n.next=14;break;case 13:return n.abrupt("return",Promise.reject(new Error("Cannot send an image with the current state")));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[sn,i,J,wn]);(0,a.useEffect)((function(){(R||q)&&en&&u&&(window.alert(u.formatMessage({id:"group-direct-message-room-permission"})),nn.push("".concat(en.get("directMessages"))))}),[R,q,nn,en,u]),(0,a.useEffect)((function(){if(U&&U.roomId&&Q)return Q(U.roomId),on(U.nextPage),function(){Q(null),on(void 0),K([]),k(!1),I(!1),S(!1)}}),[U,Q]);var Mn=(0,a.useMemo)((function(){return U?(n=tr(U.messages).concat(tr(Y)),e=un,(0,p.uniqBy)(tr(e).concat(tr(n)),"id").sort((function(n,e){return n.createdAt>e.createdAt?-1:1}))):[];var n,e}),[Y,U,un]);(0,a.useEffect)((function(){if(Mn.length>0&&jn&&null!=bn){var n=Mn[0];n&&jn(n.id)}}),[Mn,jn,bn]);var In=(0,a.useCallback)((function(n,e){var t={body:n,parentId:m?m.id:null,type:y,voiceMessageUrl:e||null,messageType:e?"voice-message":"text",image:null,imageSize:null};kn(t),x(null),b(null)}),[kn,m,y]),Zn=(0,a.useCallback)((function(n){return o!==n&&(null===W||void 0===W?void 0:W.initiator)?[{text:u.formatMessage({id:"kick-from-the-group-direct-message"}),action:function(){var n=Qt(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,E.postGroupDirectMessageKickout)(i,{roomId:t,targetUserId:e});case 4:_();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]:[]}),[o,null===W||void 0===W?void 0:W.initiator,u,i,t,_]),Cn=(0,a.useCallback)((function(n){var e=n.item,t=n.index,i=Zn(e.userId),o=!0;t+1<Mn.length&&(Mn[t+1].userId===e.userId&&(o=!1));return(0,r.jsx)(je,{showName:o,initItem:e,requests:i,setMessageType:function(n,e){x(n),b(e)},isAdmin:fn,itemIndex:t},e.id)}),[Mn,Zn,fn]),Sn=(0,a.useCallback)((function(){return Mn.map((function(n,e){var t=Mn[e+1]?new Date(Mn[e+1].createdAt):new Date,i=new Date(n.createdAt),o=!Zr(i,t);return Zr(t,new Date)&&e===Mn.length-1&&(o=!0),(0,r.jsxs)(a.Fragment,{children:[Cn({item:n,index:e}),o?(0,r.jsx)(Vr,{children:(0,r.jsx)(Xr,{children:Ir(i)})},0*n.id):null]},n.id)}))}),[Mn,Cn]),zn=(0,a.useCallback)(Qt(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(rn&&t&&i)){n.next=6;break}return n.next=3,(0,E.getDirectMessagesByRoomId)(i,t,rn);case 3:e=n.sent,K((function(n){return tr(n).concat(tr(e.messages))})),on(e.nextPage);case 6:case"end":return n.stop()}}),n)}))),[i,t,rn]),Un=(0,a.useCallback)((function(){x(null),b(null)}),[]);Pr("flexGrow",zr),Pr("messages",Mn),Pr("keyExtractor",Ur),Pr("renderItem",Cn),Pr("onEndReached",zn),(0,a.useEffect)((function(){var n=function(){k(!1),I(!1),S(!1)};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[]);var On=(0,a.useMemo)((function(){return(null===W||void 0===W?void 0:W.title)||wr(gn.map((function(n){return fn?"".concat(n.name," (").concat(n.id,")"):n.name})).join(", "),47)}),[W,gn,fn]),Nn=(0,a.useMemo)((function(){return gn.length>0?gn[0]:null}),[gn]);return(0,r.jsxs)(Nr,{children:[(0,r.jsxs)(Dr,{children:[On?(0,r.jsx)(Sr,{directMessageUser:Nn,isGroup:null===W||void 0===W?void 0:W.isGroup,roomId:t,title:On,editable:!(!(null===W||void 0===W?void 0:W.isGroup)||!W.initiator)}):null,(null===W||void 0===W?void 0:W.isGroup)&&W.initiator?(0,r.jsx)(_r,{isOpen:w||M,children:(0,r.jsx)(ke.Z,{onClick:function(){k(!w&&!M),I(!1),S(!1)}})}):null]}),w?(0,r.jsxs)(Gr,{children:[(0,r.jsx)(Wr,{onClick:function(n){n.stopPropagation(),k(!1),I(!0)},children:u.formatMessage({id:"invite-friends"})}),(0,r.jsx)(Wr,{onClick:function(n){n.stopPropagation(),k(!1),S(!0)},children:u.formatMessage({id:"manage-members"})})]}):null,M?(0,r.jsx)(Be,{onClose:function(){I(!1),S(!1),k(!1)},participants:gn}):null,C?(0,r.jsx)(St,{onClose:function(){I(!1),S(!1),k(!1)},participants:gn,requests:Zn}):null,(0,r.jsx)(Rr,{onScroll:function(n){var e=n.target;e.scrollHeight-(e.clientHeight-e.scrollTop)<3&&zn()},children:Sn()}),(O||N)&&(0,r.jsx)(Br,{children:(0,r.jsx)(H.Z,{color:"green",size:"large"})}),bn&&(0,r.jsx)(Hr,{onClick:function(){bn&&hn(gn[0].id)},children:u.formatMessage({id:"block-notification-direct-message"},{NAME:yn})}),"reply"===y&&m&&null!=m.body&&(0,r.jsx)(Wt,{onClose:Un,toName:(null===(e=null===L||void 0===L?void 0:L.find((function(n){return n.id===m.userId})))||void 0===e?void 0:e.name)||"",message:m.body}),!bn&&d&&!1===(null===W||void 0===W?void 0:W.isAllowedMessaging)&&(0,r.jsx)(Tr,{children:(0,r.jsx)(Hr,{children:u.formatMessage({id:"disallow-send-message"})})}),!bn&&d&&!1!==(null===W||void 0===W?void 0:W.isAllowedMessaging)&&(0,r.jsx)(Or,{roomId:J,onSend:In,onSendImage:function(n,e,t,r){var i={body:"",parentId:m?m.id:null,type:y,voiceMessageUrl:null,messageType:t?"image-grouped-".concat(r):"image",image:n,imageSize:e};return x(null),b(null),Pn(i)},isVerifiedTeacher:"verified"===d.verifiedTeacher,isMutualFriend:xn}),pn?(0,r.jsx)(At.Z,{images:pn}):null]})}var Sr=function(n){var e=n.roomId,t=n.title,i=n.directMessageUser,o=n.editable,u=n.isGroup,c=(0,l.Z)(),d=(0,T.k2)(),f=(0,a.useState)(!1),p=f[0],h=f[1],g=(0,a.useState)(""),m=g[0],x=g[1],v=(0,Rt.W)(Tt.ST).setNeedToListUpdate;(0,a.useEffect)((function(){x(t)}),[t]);var y=(0,a.useCallback)(Qt(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h(!1),t===m||!d){n.next=5;break}return n.next=4,(0,E.putDirectMessageRoomTitle)(d,{roomId:e,title:m});case 4:v(!0);case 5:case"end":return n.stop()}}),n)}))),[d,t,e,m,v]);return(0,r.jsx)(Ar,{children:p?(0,r.jsx)(Lr,{autoFocus:!0,onBlur:y,value:m,onChange:function(n){n.target.value.length>50?window.alert(c.formatMessage({id:"group-direct-message-maximum-title"},{NUMBER:50})):x(n.target.value)}}):(0,r.jsxs)(r.Fragment,{children:[!1!==o||null===i||u?null:(0,r.jsx)(sn.s$,{user:i,size:24}),(0,r.jsx)(Fr,{children:m}),o?(0,r.jsx)(qr,{onClick:function(){h(!0)}}):null]})})},zr={flexGrow:1};function Ur(n){return n.id.toString()}function Or(n){var e=n.roomId,t=n.onSend,i=n.isVerifiedTeacher,o=n.onSendImage,u=n.isMutualFriend,s=(0,a.useState)(""),p=s[0],h=s[1],g=nr((0,Dt.y)("DIRECT_MESSAGE_".concat(e)),3),m=g[0],x=g[1],v=g[2],y=(0,l.Z)(),b=(0,d.Fg)(),j=(0,c.useRouter)();(0,a.useEffect)((function(){var n=j.query.message;n&&h(n)}),[j]);var w=(0,a.useState)(null),k=w[0],P=w[1],M=(0,a.useState)(!1),I=M[0],Z=M[1],C=window.location.pathname;(0,a.useEffect)((function(){h(""),m&&h(m)}),[C,m]);var S,z=(0,a.useCallback)((function(){0!==p.trim().length&&t(p.trim(),null),m&&v(),h("")}),[p,t,v,m]),U=(0,a.useCallback)((function(n){x(n),h(n)}),[x]),O=(0,a.useCallback)((function(n){n.preventDefault(),n.stopPropagation();var e=n.target.files;if(e)if(e.length>10)alert("can't upload image more than 10");else{var t=Array.from(e);P(t)}}),[]);return S=(i||u)&&null==k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:"group-chat-file",children:(0,r.jsx)(Nt.Z,{})}),(0,r.jsx)("input",{id:"group-chat-file",type:"file",multiple:!0,onChange:O,style:{display:"none"},accept:"image/png, image/jpeg"})]}):null,I?(0,r.jsx)(H.Z,{color:b.colors.p1,size:"small"}):(0,r.jsx)(Tr,{children:(0,r.jsx)(Er,{value:p,placeholder:y.formatMessage({id:"send-message-placeholder"}),onPressSend:z,onChange:U,extraButtonEl:S,image:k,onSendImage:function(n,e,t,r){Z(!0),o(e,t,n,r).then((function(){Z(!1)}),(function(n){(0,f.k)(n,y),Z(!1)})),P(null)},onCancelImage:function(n){if(k){var e=k.filter((function(e,t){return t!==n}));0===e.length?P(null):P(e)}}})})}var Nr=d.ZP.div(ir(),(function(n){return n.theme.colors.s6}),680),Rr=d.ZP.div(or()),Tr=d.ZP.div(ur(),(function(n){return n.theme.colors.s6})),Er=(0,d.ZP)(I)(sr()),Dr=(d.ZP.div(ar(),(function(n){return n.theme.colors.s6})),d.ZP.div(cr(),(function(n){return n.theme.colors.s4}))),Ar=d.ZP.div(lr()),Fr=d.ZP.span(dr(),(function(n){return n.theme.font.NunitoSansSemiBold}),(function(n){return n.theme.colors.s2})),Hr=d.ZP.span(fr(),(function(n){return n.theme.font.NunitoSansSemiBold}),(function(n){return n.theme.colors.s2})),Lr=d.ZP.input(pr(),(function(n){return n.theme.font.NunitoSansSemiBold}),(function(n){return n.theme.colors.s2})),_r=d.ZP.div(hr(),(function(n){var e=n.theme;return n.isOpen?e.colors.s4:"transparent"})),Br=d.ZP.div(gr()),Gr=d.ZP.div(mr(),(function(n){return n.theme.colors.s6}),(function(n){return n.theme.colors.s5})),Wr=d.ZP.button(xr(),(function(n){return n.theme.font.NunitoSansRegular}),(function(n){return n.theme.colors.s1}),(function(n){return n.theme.colors.s6}),(function(n){return n.disabled?"not-allowed":"pointer"})),qr=(0,d.ZP)(h.U$P)(vr(),(function(n){return n.theme.colors.s1})),Vr=d.ZP.div(yr()),Xr=d.ZP.div(br()),Yr=t(67899),Kr=function(){return null===(0,T.k2)()?(0,r.jsx)(Yr.Z,{errorType:Yr.Q.NO_LOGIN}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z.LeftLayout,{children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(i.Z.RightLayout,{children:(0,r.jsx)(Mr,{})})]})},$r=Kr;Kr.getLayout=function(n){return(0,r.jsx)(i.Z,{children:n})}},92763:function(n,e,t){"use strict";var r=t(85893),i=t(74961),o=t(19521),u=t(7623),s=t(8193),a=t(67294),c=t(94158),l=t(10615),d=t(5434);function f(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function p(){var n=f(["\n  top: 0px;\n  right: 0px;\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.6);\n\n  @media "," {\n    height: 100%;\n  }\n"]);return p=function(){return n},n}function h(){var n=f(["\n  position: absolute;\n  top: 30%;\n  z-index: 999;\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n"]);return h=function(){return n},n}function g(){var n=f(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return g=function(){return n},n}function m(){var n=f(["\n  display: ",";\n  width: ","px;\n  height: ","px;\n"]);return m=function(){return n},n}function x(){var n=f(["\n  color: ",";\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n  }\n"]);return x=function(){return n},n}function v(){var n=f(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #969ca0;\n  backdrop-filter: blur(4px);\n  width: 40px;\n  height: 40px;\n\n  position: absolute;\n  z-index: 999;\n  top: -20px;\n  right: -20px;\n\n  border-radius: 40px;\n"]);return v=function(){return n},n}function y(){var n=f(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 2;\n  top: calc(50% - 15px);\n  left: 2%;\n  cursor: pointer;\n\n  width: 45px;\n  height: 45px;\n\n  background-color: rgba(255, 255, 255, 0.2);\n\n  border-radius: 100px;\n"]);return y=function(){return n},n}function b(){var n=f(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n"]);return b=function(){return n},n}function j(){var n=f(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 2;\n  top: calc(50% - 15px);\n  right: 2%;\n  cursor: pointer;\n\n  width: 45px;\n  height: 45px;\n\n  background-color: rgba(255, 255, 255, 0.2);\n\n  border-radius: 100px;\n"]);return j=function(){return n},n}function w(){var n=f(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n"]);return w=function(){return n},n}var k=o.ZP.div(p(),(function(n){return n.theme.device.mobile})),P=o.ZP.div(h()),M=o.ZP.div(g()),I=o.ZP.img(m(),(function(n){return n.load?"":"none"}),(function(n){return n.width}),(function(n){return n.height})),Z=(0,o.ZP)(s.oHP)(x(),(function(n){return n.theme.colors.s1})),C=o.ZP.div(v()),S=o.ZP.div(y()),z=(0,o.ZP)(d.RL9)(b(),(function(n){return n.theme.colors.s3})),U=o.ZP.div(j()),O=(0,o.ZP)(d.Bqb)(w(),(function(n){return n.theme.colors.s3}));e.Z=function(n){var e=n.images,t=(0,u.d)(),o=t.closeFullScreenImage,s=t.selectedIndex,d=t.type,f=(0,a.useState)(!1),p=f[0],h=f[1],g=(0,a.useState)(window.innerWidth),m=g[0],x=g[1],v=null!=e&&"userId"in e[0]?e[0].userId:null,y=i.utils.useUserProfile.useUserProfile(v||null).data||null;(0,a.useEffect)((function(){return window.addEventListener("resize",(function(n){x(window.innerWidth)})),function(){window.removeEventListener("resize",(function(){x(window.innerWidth)}))}}),[]);var b=(0,a.useState)(s),j=b[0],w=b[1],N=(0,a.useMemo)((function(){if(e)switch(d){case"library":case"notebook":case"groupchat":return e.map((function(n){var e,t=n,r=null,o=null;return"undefined"!==typeof t.imageWidth&&null!==t.imageWidth&&"undefined"!==typeof t.imageHeight&&null!==t.imageHeight&&(r=Math.floor((window.innerHeight-200)*t.imageWidth/t.imageHeight),o=window.innerHeight-200,m<r&&(r=m-200,o=Math.floor((m-200)*t.imageHeight/t.imageWidth))),{width:r,height:o,source:null!==(e=i.utils.imageHandler.imageEditUrl(n.imageUrl||"",{contentModeration:i.utils.imageHandler.contentModerationForUser(y),resize:{width:r||void 0,height:o||void 0}}))&&void 0!==e?e:void 0}}));default:return e.map((function(n){var e,t=n,r=null,o=null;return"undefined"!==typeof t.width&&null!==t.width&&"undefined"!==typeof t.height&&null!==t.height&&(r=Math.floor((window.innerHeight-200)*t.width/t.height),o=window.innerHeight-200,m<r&&(r=m-200,o=Math.floor(3*r/4))),{width:r,height:o,source:null!==(e=i.utils.imageHandler.imageEditUrl(n.uri||"",{contentModeration:i.utils.imageHandler.contentModerationForUser(y),resize:{width:r||void 0,height:o||void 0}}))&&void 0!==e?e:void 0}}))}}),[e,d,m,y]);return(0,r.jsx)(k,{children:(0,r.jsxs)(M,{children:[(0,r.jsx)(C,{onClick:o,children:(0,r.jsx)(Z,{size:24})}),!p&&(0,r.jsx)(P,{children:(0,r.jsx)(c.Z,{color:"green",size:"large"})}),(0,r.jsx)(l.lr,{showThumbs:!1,showStatus:!1,showIndicators:!1,width:N&&N[j].width||600,onChange:function(n){w(n)},renderArrowPrev:function(n){return(0,r.jsx)(S,{onClick:n,children:(0,r.jsx)(z,{})})},renderArrowNext:function(n){return(0,r.jsx)(U,{onClick:n,children:(0,r.jsx)(O,{})})},selectedItem:s||0,children:N&&N.map((function(n,e){return(0,r.jsx)(I,{width:n.width||600,height:n.height||600,load:p,onLoad:function(){h(!0)},src:n.source},e)}))})]})})}},44355:function(n,e,t){"use strict";var r=t(85893),i=(t(67294),t(19521));function o(){var n,e,t=(n=["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 24px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 24px;\n    height: 3px;\n    background: ",";\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n    /* if want to use animation */\n    :first-child {\n      transform: ",";\n    }\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return o=function(){return t},t}e.Z=function(n){var e=n.onClick,t=n.color;return(0,r.jsxs)(u,{onClick:function(n){n.stopPropagation(),e()},color:t,children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})};var u=i.ZP.button(o(),(function(n){var e=n.theme,t=n.color;return t||e.colors.s1}),(function(n){return n.open?"rotate(45deg) translateX(0px) translateY(0px)":"rotate(0)"}),(function(n){return n.open?"0":"1"}),(function(n){return n.open?"translateX(0px)":"translateX(0)"}),(function(n){return n.open?"rotate(-45deg) translateX(0px) translateY(1px)":"rotate(0)"}))}},function(n){n.O(0,[4885,2982,2678,1224,2543,9547,8987,891,4382,3526,9774,2888,179],(function(){return e=88465,n(n.s=e);var e}));var e=n.O();_N_E=e}]);